{"version":3,"sources":["uni-app:///main.js","webpack:///D:/ç™¾åº¦ç½‘ç›˜/wechat/pages/find/moments/moments.vue?98b2","webpack:///D:/ç™¾åº¦ç½‘ç›˜/wechat/pages/find/moments/moments.vue?7308","webpack:///D:/ç™¾åº¦ç½‘ç›˜/wechat/pages/find/moments/moments.vue?d3e8","webpack:///D:/ç™¾åº¦ç½‘ç›˜/wechat/pages/find/moments/moments.vue?a8e5","uni-app:///pages/find/moments/moments.vue"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":"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","file":"pages/find/moments/moments.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/find/moments/moments.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./moments.vue?vue&type=template&id=1243b1fa&\"\nvar renderjs\nimport script from \"./moments.vue?vue&type=script&lang=js&\"\nexport * from \"./moments.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/find/moments/moments.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./moments.vue?vue&type=template&id=1243b1fa&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./moments.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./moments.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\r\n\t\t<free-transparent-bar :scrollTop=\"scrollTop\"\r\n\t\t@clickRight=\"clickRight\"></free-transparent-bar>\n\t\t<view class=\"position-relative\" style=\"height: 620rpx;\">\r\n\t\t\t<image src=\"https://douyinzcmcss.oss-cn-shenzhen.aliyuncs.com/shengchengqi/datapic/1.jpg\" mode=\"aspectFill\" style=\"height: 590rpx;\" class=\"bg-secondary w-100\"></image>\r\n\t\t\t<image :src=\"avatar\" style=\"width: 120rpx;height: 120rpx;right: 30rpx;\" class=\"bg-secondary rounded position-absolute bottom-0\"></image>\r\n\t\t\t<text class=\"text-white font-md position-absolute\"\r\n\t\t\tstyle=\"bottom: 45rpx;right: 160rpx;\">{{nickname}}</text>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- æœ‹å‹åœˆåˆ—è¡¨ -->\r\n\t\t<free-moment-list v-for=\"(item,index) in list\" :key=\"index\"\r\n\t\t:item=\"item\" :index=\"index\" @action=\"doAction\" @reply=\"replyEvent\"></free-moment-list>\r\n\t\t\r\n\t\t<!-- è¯„è®ºæ¡† -->\r\n\t\t<free-popup ref=\"action\" bottom transformOrigin=\"center bottom\">\r\n\t\t\t<view style=\"height: 105rpx;\" class=\"bg-light border-top flex align-center px-3\">\r\n\t\t\t\t<textarea fixed class=\"bg-white rounded p-2 font-md\" style=\"height: 45rpx;width: 420rpx;\" :focus=\"true\" v-model=\"content\"/>\r\n\t\t\t\t<free-icon-button :icon=\"'\\ue605'\"\r\n\t\t\t\t@click=\"changeFaceModal\"></free-icon-button>\r\n\t\t\t\t<free-main-button name=\"å‘é€\" :disabled=\"content.length === 0\" @click=\"send\"></free-main-button>\r\n\t\t\t</view>\r\n\t\t\t<scroll-view v-if=\"faceModal\" scroll-y=\"true\" \r\n\t\t\tstyle=\"height: 350rpx;\"\r\n\t\t\tclass=\"bg-light\">\r\n\t\t\t\t<view class=\"flex flex-wrap\">\r\n\t\t\t\t\t<view style=\"width: 107rpx;height: 107rpx;\"\r\n\t\t\t\t\tclass=\"flex align-center justify-center\"\r\n\t\t\t\t\thover-class=\"bg-white\"\r\n\t\t\t\t\tv-for=\"(item,index) in faceList\"\r\n\t\t\t\t\t:key=\"index\"\r\n\t\t\t\t\t@click=\"addFace(item)\">\r\n\t\t\t\t\t\t<text>{{item}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</scroll-view>\r\n\t\t</free-popup>\r\n\t\t\r\n\t\t<!-- ä¸Šæ‹‰åŠ è½½ -->\r\n\t\t<view class=\"flex align-center justify-center py-5 bg-light\"\r\n\t\tv-if=\"list.length >= 10\">\r\n\t\t\t<text class=\"text-muted font\">{{loadmore}}</text>\r\n\t\t</view>\r\n\t\t\r\n\t\t\n\t</view>\n</template>\n\n<script>\r\n\timport freeTransparentBar from '@/components/free-ui/free-transparent-bar.vue';\r\n\timport freeMomentList from '@/components/free-ui/free-moment-list.vue';\r\n\timport freePopup from '@/components/free-ui/free-popup.vue';\r\n\timport freeIconButton from \"@/components/free-ui/free-icon-button.vue\"\r\n\timport freeMainButton from '@/components/free-ui/free-main-button.vue';\r\n\timport { mapState } from 'vuex'\r\n\timport $H from '@/common/free-lib/request.js';\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tfreeTransparentBar,\r\n\t\t\tfreeMomentList,\r\n\t\t\tfreePopup,\r\n\t\t\tfreeIconButton,\r\n\t\t\tfreeMainButton\r\n\t\t},\n\t\tdata() {\n\t\t\treturn {\r\n\t\t\t\tcontent:\"\",\n\t\t\t\tscrollTop:0,\r\n\t\t\t\tlist:[],\r\n\t\t\t\t\r\n\t\t\t\tfaceModal:false,\r\n\t\t\t\tfaceList:[\"ðŸ˜€\",\"ðŸ˜\",\"ðŸ˜‚\",\"ðŸ˜ƒ\",\"ðŸ˜„\",\"ðŸ˜…\",\"ðŸ˜†\",\"ðŸ˜‰\",\"ðŸ˜Š\",\"ðŸ˜‹\",\"ðŸ˜Ž\",\"ðŸ˜\",\"ðŸ˜˜\",\"ðŸ˜—\",\"ðŸ˜™\",\"ðŸ˜š\",\"ðŸ˜‡\",\"ðŸ˜\",\"ðŸ˜‘\",\"ðŸ˜¶\",\"ðŸ˜\",\"ðŸ˜£\",\"ðŸ˜¥\",\"ðŸ˜®\",\"ðŸ˜¯\",\"ðŸ˜ª\",\"ðŸ˜«\",\"ðŸ˜´\",\"ðŸ˜Œ\",\"ðŸ˜›\",\"ðŸ˜œ\",\"ðŸ˜\",\"ðŸ˜’\",\"ðŸ˜“\",\"ðŸ˜”\",\"ðŸ˜•\",\"ðŸ˜²\",\"ðŸ˜·\",\"ðŸ˜–\",\"ðŸ˜ž\",\"ðŸ˜Ÿ\",\"ðŸ˜¤\",\"ðŸ˜¢\",\"ðŸ˜­\",\"ðŸ˜¦\",\"ðŸ˜§\",\"ðŸ˜¨\",\"ðŸ˜¬\",\"ðŸ˜°\",\"ðŸ˜±\",\"ðŸ˜³\",\"ðŸ˜µ\",\"ðŸ˜¡\",\"ðŸ˜ \"],\r\n\t\t\t\t// è¯„è®ºçš„å¯¹è±¡\r\n\t\t\t\tcommentIndex:-1,\r\n\t\t\t\t\r\n\t\t\t\tpage:1,\r\n\t\t\t\tloadmore:\"ä¸Šæ‹‰åŠ è½½æ›´å¤š\",\r\n\t\t\t\tkey:\"moment_timeline\",\r\n\t\t\t\treply_user:false,\r\n\t\t\t\t\r\n\t\t\t\tparams:false\n\t\t\t}\n\t\t},\r\n\t\tonPageScroll(e) {\r\n\t\t\tthis.scrollTop = e.scrollTop\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState({\r\n\t\t\t\tuser:state=>state.user.user\r\n\t\t\t}),\r\n\t\t\tnickname(){\r\n\t\t\t\tif(!this.params){\r\n\t\t\t\t\treturn this.user.nickname || this.user.username\r\n\t\t\t\t}\r\n\t\t\t\treturn this.params.name\r\n\t\t\t},\r\n\t\t\tavatar(){\r\n\t\t\t\tlet avatar = ''\r\n\t\t\t\tavatar = !this.params ? this.user.avatar : this.params.avatar\r\n\t\t\t\treturn avatar || '/static/images/userpic.png'\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(e) {\r\n\t\t\tif(e.key){\r\n\t\t\t\tthis.key = e.key\r\n\t\t\t}\r\n\t\t\tif(e.params){\r\n\t\t\t\tthis.params = JSON.parse(decodeURIComponent(e.params))\r\n\t\t\t\tconsole.log(this.params);\r\n\t\t\t}\r\n\t\t\tthis.page = 1\r\n\t\t\tthis.getData()\r\n\t\t\t\r\n\t\t\tuni.$on('momentNotice',this.momentNotice)\r\n\t\t},\r\n\t\tdestroyed() {\r\n\t\t\tuni.$off('momentNotice',this.momentNotice)\r\n\t\t},\r\n\t\tonPullDownRefresh() {\r\n\t\t\tthis.page = 1\r\n\t\t\tthis.getData().then(res=>{\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: 'åˆ·æ–°æˆåŠŸ',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t});\r\n\t\t\t\tuni.stopPullDownRefresh()\r\n\t\t\t}).catch(err=>{\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: 'åˆ·æ–°å¤±è´¥',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t});\r\n\t\t\t\tuni.stopPullDownRefresh()\r\n\t\t\t})\r\n\t\t},\r\n\t\tonReachBottom() {\r\n\t\t\tif(this.loadmore !== 'ä¸Šæ‹‰åŠ è½½æ›´å¤š'){\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tthis.page += 1\r\n\t\t\tthis.loadmore = 'åŠ è½½ä¸­...'\r\n\t\t\tthis.getData().catch(err=>{\r\n\t\t\t\tthis.page -= 1\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: 'åŠ è½½å¤±è´¥',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t});\r\n\t\t\t\tthis.loadmore = 'ä¸Šæ‹‰åŠ è½½æ›´å¤š'\r\n\t\t\t})\r\n\t\t},\n\t\tmethods: {\r\n\t\t\tmomentNotice(){\r\n\t\t\t\tthis.page = 1\r\n\t\t\t\tthis.getData().then(res=>{\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: 'åˆ·æ–°æˆåŠŸ',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetData(){\r\n\t\t\t\treturn new Promise((result,reject)=>{\r\n\t\t\t\t\tlet page = this.page\r\n\t\t\t\t\tlet param = ''\r\n\t\t\t\t\tif(this.params && this.key == 'moment'){\r\n\t\t\t\t\t\tparam = '?user_id='+this.params.id\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$H.get(`/${this.key}/${this.page}${param}`).then(res=>{\r\n\t\t\t\t\t\tthis.list = page === 1 ? res : [...this.list,...res]\r\n\t\t\t\t\t\tthis.loadmore = this.list.length === (page * 10) ? 'ä¸Šæ‹‰åŠ è½½æ›´å¤š' : 'æ²¡æœ‰æ›´å¤šäº†'\r\n\t\t\t\t\t\tresult(res)\r\n\t\t\t\t\t}).catch(err=>{\r\n\t\t\t\t\t\treject(err)\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\n\t\t\t// ç‚¹å‡»æ“ä½œèœå•\r\n\t\t\tdoAction(e){\r\n\t\t\t\tuni.showActionSheet({\r\n\t\t\t\t\titemList: ['ç‚¹èµž','è¯„è®º'],\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tif(res.tapIndex === 0){\r\n\t\t\t\t\t\t\tthis.doSupport(e)\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.content = ''\r\n\t\t\t\t\t\t\tthis.faceModal = false\r\n\t\t\t\t\t\t\tthis.commentIndex = e.index\r\n\t\t\t\t\t\t\tthis.reply_user = false\r\n\t\t\t\t\t\t\tthis.$refs.action.show()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// ç‚¹èµž\r\n\t\t\tdoSupport(e){\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t\t$H.post('/moment/like',{\r\n\t\t\t\t\tid:e.item.moment_id\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tlet i = e.item.likes.findIndex(item=>item.id === this.user.id)\r\n\t\t\t\t\tif(i !== -1){ // å–æ¶ˆç‚¹èµž\r\n\t\t\t\t\t\te.item.likes.splice(i,1)\r\n\t\t\t\t\t} else { // ç‚¹èµž\r\n\t\t\t\t\t\te.item.likes.push({\r\n\t\t\t\t\t\t\tid:this.user.id,\r\n\t\t\t\t\t\t\tname:this.user.nickname || this.user.username\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: i !== -1 ? 'å–æ¶ˆç‚¹èµžæˆåŠŸ' : 'ç‚¹èµžæˆåŠŸ',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// æ·»åŠ è¡¨æƒ…\r\n\t\t\taddFace(item){\r\n\t\t\t\tthis.content += item\r\n\t\t\t},\r\n\t\t\t// å¼€å¯/å…³é—­è¡¨æƒ…åŒ…é¢æ¿\r\n\t\t\tchangeFaceModal(){\r\n\t\t\t\tuni.hideKeyboard()\r\n\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\tthis.faceModal = !this.faceModal\r\n\t\t\t\t},100)\r\n\t\t\t},\r\n\t\t\t// å‘é€\r\n\t\t\tsend(){\r\n\t\t\t\tlet item = this.list[this.commentIndex]\r\n\t\t\t\t$H.post('/moment/comment',{\r\n\t\t\t\t\tid:item.moment_id,\r\n\t\t\t\t\tcontent:this.content,\r\n\t\t\t\t\treply_id:this.reply_user ? this.reply_user.id : 0\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t\titem.comments.push({\r\n\t\t\t\t\t\tcontent:this.content,\r\n\t\t\t\t\t\tuser:{\r\n\t\t\t\t\t\t\tid:this.user.id,\r\n\t\t\t\t\t\t\tname:this.user.nickname || this.user.username\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\treply:this.reply ? this.reply : null\r\n\t\t\t\t\t})\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: 'è¯„è®ºæˆåŠŸ',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\tthis.$refs.action.hide()\r\n\t\t\t},\r\n\t\t\t// é€‰æ‹©å‘è¡¨æœ‹å‹åœˆç±»åž‹\r\n\t\t\tclickRight(){\r\n\t\t\t\tlet list = [{\r\n\t\t\t\t\tname:\"å›¾æ–‡\",\r\n\t\t\t\t\tkey:\"image\"\r\n\t\t\t\t},{\r\n\t\t\t\t\tname:\"çŸ­è§†é¢‘\",\r\n\t\t\t\t\tkey:\"video\"\r\n\t\t\t\t},{\r\n\t\t\t\t\tname:\"æ–‡å­—\",\r\n\t\t\t\t\tkey:\"content\"\r\n\t\t\t\t}]\r\n\t\t\t\tuni.showActionSheet({\r\n\t\t\t\t\titemList: list.map(v=>v.name),\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl: '../add-moment/add-moment?type='+list[res.tapIndex].key,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\treplyEvent(e){\r\n\t\t\t\tthis.content = ''\r\n\t\t\t\tthis.faceModal = false\r\n\t\t\t\tthis.commentIndex = e.index\r\n\t\t\t\tthis.reply_user = e.reply\r\n\t\t\t\tthis.$refs.action.show()\r\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style>\n\n</style>\n"],"sourceRoot":""}